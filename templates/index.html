<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Processing Form</title>
    <script>
        function toggleNonstandardFields() {
            const namingType = document.getElementById('naming_type').value;
            const nonstandardFields = document.getElementById('nonstandard-fields');
            if (namingType === 'standard') {
                nonstandardFields.style.display = 'none';
            } else {
                nonstandardFields.style.display = 'block';
            }
        }

        function toggleAssetTypeField() {
            const assetTypeCheckbox = document.getElementById('asset_type_present');
            const assetTypeField = document.getElementById('asset-type-field');
            if (assetTypeCheckbox.checked) {
                assetTypeField.style.display = 'block';
            } else {
                assetTypeField.style.display = 'none';
            }
        }

        window.onload = function() {
            toggleNonstandardFields();
            toggleAssetTypeField();
        };
    </script>
</head>
<body>
    <h1>Data Processing for Tie-Outs</h1>
    <form method="post" enctype="multipart/form-data">
        <label for="wso_file">WSO CSV File:</label><br>
        <input type="file" name="wso_file" accept=".csv" required><br><br>

        <label for="naming_type">WSO Columns Naming Type:</label><br>
        <select name="naming_type" id="naming_type" onchange="toggleNonstandardFields()" required>
            <option value="standard">Standard</option>
            <option value="nonstandard">Nonstandard</option>
        </select><br><br>

        <div id="nonstandard-fields">
            <label for="wso_lxid">WSO LXID Column Name:</label><br>
            <input type="text" name="wso_lxid"><br><br>

            <label for="wso_issuer">WSO Issuer Column Name:</label><br>
            <input type="text" name="wso_issuer"><br><br>

            <label for="wso_amount">WSO Amount Column Name:</label><br>
            <input type="text" name="wso_amount"><br><br>
        </div>

        <label for="usb_file">Trustee Excel File:</label><br>
        <input type="file" name="usb_file" accept=".xls,.xlsx,.xlsm" required><br><br>

        <label for="asset_type_present">Does the Trustee file contain equity amounts?</label><br>
        <input type="checkbox" id="asset_type_present" name="asset_type_present" onchange="toggleAssetTypeField()"><br><br>

        <div id="asset-type-field" style="display:none;">
            <label for="asset_type_column">Asset Type Column Name:</label><br>
            <input type="text" name="asset_type_column"><br><br>
        </div>

        <label for="usb_sheet">Trustee Sheet Name:</label><br>
        <input type="text" name="usb_sheet" required><br><br>

        <label for="usb_num_rows">Number of rows before column names for Trustee data:</label><br>
        <input type="text" name="usb_num_rows" required><br><br>

        <label for="usb_lxid">Trustee LXID Column Name:</label><br>
        <input type="text" name="usb_lxid" required><br><br>

        <label for="usb_issuer">Trustee Issuer Column Name:</label><br>
        <input type="text" name="usb_issuer" required><br><br>

        <label for="usb_amount">Trustee Amount Column Name:</label><br>
        <input type="text" name="usb_amount" required><br><br>

        <label for="final_name">Final Excel File Name (include .xlsx):</label><br>
        <input type="text" name="final_name" required><br><br>

        <input type="submit" value="Upload and Process">
    </form>
</body>
</html>
